

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mesh &mdash; abapy 2.3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="abapy 2.3.0 documentation" href="index.html" />
    <link rel="next" title="Materials" href="materials.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="materials.html" title="Materials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">abapy 2.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mesh">
<h1>Mesh<a class="headerlink" href="#mesh" title="Permalink to this headline">¶</a></h1>
<p>Mesh processing tools.</p>
<div class="section" id="nodes">
<h2>Nodes<a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="abapy.mesh.Nodes">
<em class="property">class </em><tt class="descclassname">abapy.mesh.</tt><tt class="descname">Nodes</tt><big>(</big><em>labels=</em><span class="optional">[</span><span class="optional">]</span>, <em>x=</em><span class="optional">[</span><span class="optional">]</span>, <em>y=</em><span class="optional">[</span><span class="optional">]</span>, <em>z=</em><span class="optional">[</span><span class="optional">]</span>, <em>sets={}</em>, <em>dtf='f'</em>, <em>dti='I'</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages nodes for finite element modeling pre/postprocessing and further graphical representations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> (<em>list of int &gt; 0</em>) &#8211; list of node labels.</li>
<li><strong>x</strong> (<em>list floats</em>) &#8211; x coordinate of nodes.</li>
<li><strong>y</strong> (<em>list floats</em>) &#8211; y coordinate of nodes.</li>
<li><strong>z</strong> (<em>list floats</em>) &#8211; z coordinate of nodes.</li>
<li><strong>sets</strong> (<em>dict with str keys and where values are list of ints &gt; 0.</em>) &#8211; node sets</li>
<li><strong>dti</strong> (<em>&#8216;I&#8217; or &#8216;H&#8217;</em>) &#8211; int data type in array.array</li>
<li><strong>dtf</strong> (<em>&#8216;f&#8217; or &#8216;d&#8217;</em>) &#8211; float data type in array.array</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mySet&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">,</span> <span class="n">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span>
<span class="go">&lt;Nodes class instance: 2 nodes&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">1     0.0     0.0     0.0</span>
<span class="go">2     1.0     2.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 1,2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span> <span class="c"># 10 nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;myset&#39;</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span> <span class="c"># A set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">1     1.0     1.0     0.0</span>
<span class="go">2     2.0     2.0     0.0</span>
<span class="go">3     3.0     3.0     0.0</span>
<span class="go">4     4.0     4.0     0.0</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">6     6.0     6.0     0.0</span>
<span class="go">7     7.0     7.0     0.0</span>
<span class="go">8     8.0     8.0     0.0</span>
<span class="go">9     9.0     9.0     0.0</span>
<span class="go">10    10.0    10.0    0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 4,5,6,9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="c"># requesting node 5</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>  <span class="c"># requesting nodes 5, 4 and 10. Note that output has ordered nodes and kept sets.</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">4     4.0     4.0     0.0</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">10    10.0    10.0    0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 5,4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span><span class="p">[</span><span class="s">&#39;myset&#39;</span><span class="p">]</span> <span class="c"># requesting nodes using set key</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">4     4.0     4.0     0.0</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">6     6.0     6.0     0.0</span>
<span class="go">9     9.0     9.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 4,5,6,9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span><span class="p">[</span><span class="s">&#39;myset&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span> <span class="c"># mixed request: nodes in myset AND node 10.</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">4     4.0     4.0     0.0</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">6     6.0     6.0     0.0</span>
<span class="go">9     9.0     9.0     0.0</span>
<span class="go">10    10.0    10.0    0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 4,5,6,9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c"># slice</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label x       y       z</span>
<span class="go">1     1.0     1.0     0.0</span>
<span class="go">3     3.0     3.0     0.0</span>
<span class="go">5     5.0     5.0     0.0</span>
<span class="go">7     7.0     7.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label Nodes</span>
<span class="go">myset 5</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="add-remove-get-data">
<h3>Add/remove/get data<a class="headerlink" href="#add-remove-get-data" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Nodes.add_node">
<tt class="descclassname">Nodes.</tt><tt class="descname">add_node</tt><big>(</big><em>label=None</em>, <em>x=0.0</em>, <em>y=0.0</em>, <em>z=0.0</em>, <em>toset=None</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.add_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds one node to Nodes instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label</strong> &#8211; If None, label is automatically chosen to be the highest existing label + 1 (default: None). If label (and susequently node) already exists, a warning is printed and the node is not added and sets that could be created ar not created.</li>
<li><strong>x</strong> (<em>float</em>) &#8211; x coordinate of node.</li>
<li><strong>y</strong> (<em>float</em>) &#8211; y coordinate of node.</li>
<li><strong>z</strong> (<em>float</em>) &#8211; z coordinate of node.</li>
<li><strong>tosets</strong> &#8211; set(s) to which the node should be added. If a set does not exist, it is created. If None, the node is not added to any set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">toset</span> <span class="o">=</span> <span class="s">&#39;firstSet&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">10  0.0     0.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">firstset    10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">toset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;firstSet&#39;</span><span class="p">,</span> <span class="s">&#39;secondSet&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">10  0.0     0.0     0.0</span>
<span class="go">11  0.0     0.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">firstset    10,11</span>
<span class="go">secondset   11</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.drop_node">
<tt class="descclassname">Nodes.</tt><tt class="descname">drop_node</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.drop_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.drop_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one node to Nodes instance. The node is also removed from sets, if a set happens to be empty, it is also removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (<em>int &gt; 0</em>) &#8211; node be removed&#8217;s label.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mySet&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">,</span> <span class="n">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   0.0     0.0     0.0</span>
<span class="go">2   1.0     2.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">drop_node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   0.0     0.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.add_set">
<tt class="descclassname">Nodes.</tt><tt class="descname">add_set</tt><big>(</big><em>label</em>, <em>nodes</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.add_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.add_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a node set to the Nodes instance or appends nodes to existing node sets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label</strong> (<em>string</em>) &#8211; set to be added&#8217;s label.</li>
<li><strong>nodes</strong> (<em>int or list of ints</em>) &#8211; nodes to be added in the set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">set labels are always lower case in this class to be case insensitive. This way to proceed is coherent with Abaqus.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mySet&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">,</span> <span class="n">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   0.0     0.0     0.0</span>
<span class="go">2   1.0     2.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;MYSET&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   0.0     0.0     0.0</span>
<span class="go">2   1.0     2.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       2,1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;MyNeWseT&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   0.0     0.0     0.0</span>
<span class="go">2   1.0     2.0     0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       2,1</span>
<span class="go">mynewset    1,2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.add_set_by_func">
<tt class="descclassname">Nodes.</tt><tt class="descname">add_set_by_func</tt><big>(</big><em>name</em>, <em>func</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.add_set_by_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.add_set_by_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a node set using a function of x, y, z and labels (given as <tt class="docutils literal"><span class="pre">numpy.array</span></tt>). Must get back a boolean array of the same size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>string</em>) &#8211; set label.</li>
<li><strong>func</strong> (<em>function</em>) &#8211; function of x, y ,z and labels</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">add_set_by_func</span><span class="p">(</span><span class="s">&#39;setlabel&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.drop_set">
<tt class="descclassname">Nodes.</tt><tt class="descname">drop_set</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.drop_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.drop_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops a set without removing elements and nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (<em>string</em>) &#8211; label of the to be removed.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">labels</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;myset&#39;</span><span class="p">,[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   1.0     1.0     0.0</span>
<span class="go">2   2.0     2.0     0.0</span>
<span class="go">3   3.0     3.0     0.0</span>
<span class="go">4   4.0     4.0     0.0</span>
<span class="go">5   5.0     5.0     0.0</span>
<span class="go">6   6.0     6.0     0.0</span>
<span class="go">7   7.0     7.0     0.0</span>
<span class="go">8   8.0     8.0     0.0</span>
<span class="go">9   9.0     9.0     0.0</span>
<span class="go">10  10.0    10.0    0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       4,5,6,9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">drop_set</span><span class="p">(</span><span class="s">&#39;someSet&#39;</span><span class="p">)</span>
<span class="go">Info: sets someset does not exist and cannot be dropped.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">drop_set</span><span class="p">(</span><span class="s">&#39;MYSET&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   1.0     1.0     0.0</span>
<span class="go">2   2.0     2.0     0.0</span>
<span class="go">3   3.0     3.0     0.0</span>
<span class="go">4   4.0     4.0     0.0</span>
<span class="go">5   5.0     5.0     0.0</span>
<span class="go">6   6.0     6.0     0.0</span>
<span class="go">7   7.0     7.0     0.0</span>
<span class="go">8   8.0     8.0     0.0</span>
<span class="go">9   9.0     9.0     0.0</span>
<span class="go">10  10.0    10.0    0.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="modifications">
<h3>Modifications<a class="headerlink" href="#modifications" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Nodes.translate">
<tt class="descclassname">Nodes.</tt><tt class="descname">translate</tt><big>(</big><em>x=0.0</em>, <em>y=0.0</em>, <em>z=0.0</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates all the nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>float</em>) &#8211; translation along x value.</li>
<li><strong>y</strong> (<em>float</em>) &#8211; translation along y value.</li>
<li><strong>z</strong> (<em>float</em>) &#8211; translation along z value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mySet&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">,</span> <span class="n">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mf">4.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">nodes</span>
<span class="go">Nodes class instance:</span>
<span class="go">Nodes:</span>
<span class="go">Label       x       y       z</span>
<span class="go">1   1.0     0.0     -4.0</span>
<span class="go">2   2.0     2.0     -4.0</span>
<span class="go">Sets:</span>
<span class="go">Label       Nodes</span>
<span class="go">myset       2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.apply_displacement">
<tt class="descclassname">Nodes.</tt><tt class="descname">apply_displacement</tt><big>(</big><em>disp</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.apply_displacement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.apply_displacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a displacement field to the nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>disp</strong> (<tt class="docutils literal"><span class="pre">VectorFieldOutput</span></tt> instance) &#8211; displacement field.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">RegularQuadMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
  <span class="n">r0</span> <span class="o">=</span> <span class="mf">1.</span>
  <span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">x</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">r0</span>
  <span class="n">ux</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span> <span class="o">+</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
  <span class="n">uy</span> <span class="o">=</span> <span class="o">-</span><span class="n">y</span> <span class="o">+</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
  <span class="n">uz</span> <span class="o">=</span> <span class="mf">0.</span> <span class="o">*</span> <span class="n">z</span>
  <span class="k">return</span> <span class="n">ux</span><span class="p">,</span> <span class="n">uy</span><span class="p">,</span> <span class="n">uz</span>
<span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">25</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="o">.</span><span class="mi">75</span><span class="p">,</span> <span class="mf">1.</span>
<span class="n">Ncolor</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="n">N2</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">)</span>
<span class="n">vectorField</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">eval_vectorFunction</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">apply_displacement</span><span class="p">(</span><span class="n">vectorField</span><span class="p">)</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">vectorField</span><span class="o">.</span><span class="n">get_coord</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c"># we chose to plot coordinate 2</span>
<span class="n">field2</span> <span class="o">=</span> <span class="n">vectorField</span><span class="o">.</span><span class="n">get_coord</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c"># we chose to plot coordinate 2</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Mesh edges</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span> <span class="c"># mesh borders</span>
<span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span> <span class="n">ze</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xe</span><span class="p">,</span> <span class="n">ye</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">color</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Nodes-apply_displacement.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Nodes-apply_displacement.png">png</a>, <a class="reference external" href="./example_code/mesh/Nodes-apply_displacement.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Nodes-apply_displacement.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Nodes-apply_displacement.png" src="_images/Nodes-apply_displacement.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.closest_node">
<tt class="descclassname">Nodes.</tt><tt class="descname">closest_node</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.closest_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.closest_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the closest node of an existing node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (<em>int &gt; 0</em>) &#8211; node label to be used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">label (int &gt; 0) and distance (float) of the closest node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.replace_node">
<tt class="descclassname">Nodes.</tt><tt class="descname">replace_node</tt><big>(</big><em>old</em>, <em>new</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.replace_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.replace_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces a node of given label (old) by another existing node (new).</p>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.apply_reflection">
<tt class="descclassname">Mesh.</tt><tt class="descname">apply_reflection</tt><big>(</big><em>point=(0.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>normal=(1.0</em>, <em>0.0</em>, <em>0.0)</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.apply_reflection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.apply_reflection" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a reflection symmetry to the mesh instance. The reflection plane is defined by a point and a normal direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<em>tuple or list containing 3 floats</em>) &#8211; coordinates of a point of the reflection plane.</li>
<li><strong>normal</strong> (<em>tuple or list containing 3 floats</em>) &#8211; normal vector to the reflection plane</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">Mesh</span></tt> instance</p>
</td>
</tr>
</tbody>
</table>
<p>..note: This method can lead to coherence problems with surfaces, this problem will be addressed in the future. Surfaces are removed by this operation untill this problem is solved.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="kn">from</span> <span class="nn">abapy.indentation</span> <span class="kn">import</span> <span class="n">ParamInfiniteMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">point</span>  <span class="o">=</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
<span class="n">normal</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
<span class="n">m0</span> <span class="o">=</span> <span class="n">ParamInfiniteMesh</span><span class="p">()</span>
<span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span> <span class="o">=</span> <span class="n">m0</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">m0</span><span class="o">.</span><span class="n">apply_reflection</span><span class="p">(</span><span class="n">normal</span> <span class="o">=</span> <span class="n">normal</span><span class="p">,</span> <span class="n">point</span> <span class="o">=</span> <span class="n">point</span><span class="p">)</span>
<span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh_apply_reflection.png" src="_images/Mesh_apply_reflection.png" />
</div>
</dd></dl>

</div>
<div class="section" id="export">
<h3>Export<a class="headerlink" href="#export" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Nodes.dump2inp">
<tt class="descclassname">Nodes.</tt><tt class="descname">dump2inp</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.dump2inp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.dump2inp" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps Nodes instance to Abaqus INP format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;mySet&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">Nodes</span><span class="p">(</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">,</span> <span class="n">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">dump2inp</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="tools">
<h3>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Nodes.eval_function">
<tt class="descclassname">Nodes.</tt><tt class="descname">eval_function</tt><big>(</big><em>function</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.eval_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.eval_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Evals a function at each node and returns a <tt class="docutils literal"><span class="pre">FieldOutput</span></tt> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>function</em>) &#8211; a function with arguments x, y and z (float <tt class="docutils literal"><span class="pre">numpy.arrays</span></tt> containing nodes coordinates) and labels (int <tt class="docutils literal"><span class="pre">numpy.array</span></tt>). Field should not depend on labels but on some vicious problem, it could be useful. The function should return 1 array.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">`FieldOutput`</span></tt> instance.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">RegularQuadMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">pi</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
 <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**.</span><span class="mi">5</span>
 <span class="k">return</span> <span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="mf">1.</span><span class="p">)</span>
<span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">25</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span>
<span class="n">Ncolor</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="n">N2</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">)</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">eval_function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Mesh edges</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">frameon</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">l1</span><span class="p">],[</span><span class="s">&#39;$0$&#39;</span><span class="p">,</span> <span class="s">&#39;$l_1$&#39;</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mf">15.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">l2</span><span class="p">],[</span><span class="s">&#39;$0$&#39;</span><span class="p">,</span> <span class="s">&#39;$l_2$&#39;</span><span class="p">],</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mf">15.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Nodes-eval_function.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_function.png">png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_function.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_function.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Nodes-eval_function.png" src="_images/Nodes-eval_function.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.eval_vectorFunction">
<tt class="descclassname">Nodes.</tt><tt class="descname">eval_vectorFunction</tt><big>(</big><em>function</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.eval_vectorFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.eval_vectorFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Evals a vector function at each node and returns a <tt class="docutils literal"><span class="pre">VectorFieldOutput</span></tt> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>function</em>) &#8211; a vector function with arguments x, y and z (float <tt class="docutils literal"><span class="pre">numpy.arrays</span></tt> containing nodes coordinates) and labels (int <tt class="docutils literal"><span class="pre">numpy.array</span></tt>). Field should not depend on labels but on some vicious problem, it could be useful. The function should return 3 arrays.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">`FieldOutput`</span></tt> instance.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">RegularQuadMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
  <span class="n">r0</span> <span class="o">=</span> <span class="mf">1.</span>
  <span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">x</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">r0</span>
  <span class="n">ux</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span> <span class="o">+</span> <span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
  <span class="n">uy</span> <span class="o">=</span> <span class="o">-</span><span class="n">y</span> <span class="o">+</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
  <span class="n">uz</span> <span class="o">=</span> <span class="mf">0.</span> <span class="o">*</span> <span class="n">z</span>
  <span class="k">return</span> <span class="n">ux</span><span class="p">,</span> <span class="n">uy</span><span class="p">,</span> <span class="n">uz</span>
<span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">25</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span>
<span class="n">Ncolor</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="n">N2</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">)</span>
<span class="n">vectorField</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">eval_vectorFunction</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">vectorField</span><span class="o">.</span><span class="n">get_coord</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c"># we chose to plot coordinate 1</span>
<span class="n">field2</span> <span class="o">=</span> <span class="n">vectorField</span><span class="o">.</span><span class="n">get_coord</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c"># we chose to plot coordinate 1</span>
<span class="n">field3</span> <span class="o">=</span> <span class="n">vectorField</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span> <span class="c"># we chose to plot norm</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;$V_1$&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;$V_2$&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;$\sqrt{\vec{V}^2}$&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;$||\vec{V}||$&#39;</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Mesh edges</span>
<span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">convert2tri3</span><span class="p">()</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Triangular mesh edges</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field2</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field2</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field3</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field3</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Nodes-eval_vectorFunction.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_vectorFunction.png">png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_vectorFunction.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_vectorFunction.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Nodes-eval_vectorFunction.png" src="_images/Nodes-eval_vectorFunction.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.eval_tensorFunction">
<tt class="descclassname">Nodes.</tt><tt class="descname">eval_tensorFunction</tt><big>(</big><em>function</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.eval_tensorFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.eval_tensorFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates a tensor function at each node and returns a <tt class="docutils literal"><span class="pre">tensorFieldOutput</span></tt> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function</strong> (<em>function</em>) &#8211; a tensor function with arguments x, y and z (float <tt class="docutils literal"><span class="pre">numpy.arrays</span></tt> containing nodes coordinates) and labels (int <tt class="docutils literal"><span class="pre">numpy.array</span></tt>). Field should not depend on labels but on some vicious problem, it could be useful. The function should return 6 arrays corresponding to indices ordered as follows: 11, 22, 33, 12, 13, 23.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">`FieldOutput`</span></tt> instance.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">RegularQuadMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">linspace</span>
<span class="k">def</span> <span class="nf">boussinesq</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
  <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">  Stress solution of the Boussinesq point loading of semi infinite elastic half space for a force F = 1. and nu = 0.3</span>
<span class="sd">  &#39;&#39;&#39;</span>
  <span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>
  <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">zeros_like</span>
  <span class="n">nu</span> <span class="o">=</span> <span class="mf">0.3</span>
  <span class="n">rho</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**.</span><span class="mi">5</span>
  <span class="n">s_rr</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">rho</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="p">(</span><span class="o">-</span><span class="mf">3.</span> <span class="o">*</span> <span class="n">r</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">z</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">rho</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">nu</span><span class="p">)</span><span class="o">*</span><span class="n">rho</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
  <span class="c">#s_rr = 1./(2.*pi) *( (1-2*nu) * ( r**-2 -z / (rho * r**2)) - 3 * z * r**2 / rho**5 )</span>
  <span class="n">s_zz</span> <span class="o">=</span> <span class="mf">3.</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span><span class="n">pi</span> <span class="p">)</span> <span class="o">*</span> <span class="n">z</span><span class="o">**</span><span class="mi">3</span> <span class="o">/</span> <span class="n">rho</span><span class="o">**</span><span class="mi">5</span>
  <span class="n">s_tt</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span> <span class="mf">1.</span> <span class="o">-</span> <span class="mf">2.</span> <span class="o">*</span> <span class="n">nu</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">rho</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="n">z</span><span class="o">/</span><span class="n">rho</span> <span class="o">-</span> <span class="n">rho</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
  <span class="c">#s_tt = ( 1. - 2. * nu) / (2. * pi ) * ( 1. / r**2 -z/( rho * r**2) -z / rho**3  )</span>
  <span class="n">s_rz</span> <span class="o">=</span> <span class="o">-</span><span class="mf">3.</span><span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">pi</span><span class="p">)</span> <span class="o">*</span> <span class="n">r</span> <span class="o">*</span> <span class="n">z</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="n">rho</span> <span class="o">**</span><span class="mi">5</span>
  <span class="n">s_rt</span> <span class="o">=</span> <span class="n">zeros_like</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
  <span class="n">s_zt</span> <span class="o">=</span> <span class="n">zeros_like</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">s_rr</span><span class="p">,</span> <span class="n">s_zz</span><span class="p">,</span> <span class="n">s_tt</span><span class="p">,</span> <span class="n">s_rz</span><span class="p">,</span> <span class="n">s_rt</span><span class="p">,</span> <span class="n">s_zt</span>

  <span class="k">return</span> <span class="n">ux</span><span class="p">,</span> <span class="n">uy</span><span class="p">,</span> <span class="n">uz</span>


<span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span>
<span class="n">Ncolor</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">levels</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="n">N2</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">)</span>
<span class="c"># Finding the node located at x = y =0.:</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">labels</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">nodes</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0.</span> <span class="ow">and</span> <span class="n">nodes</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span> <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">drop_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="n">tensorField</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">eval_tensorFunction</span><span class="p">(</span><span class="n">boussinesq</span><span class="p">)</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">tensorField</span><span class="o">.</span><span class="n">get_component</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span> <span class="c"># sigma_zz</span>
<span class="n">field2</span> <span class="o">=</span> <span class="n">tensorField</span><span class="o">.</span><span class="n">vonmises</span><span class="p">()</span> <span class="c"># von Mises stress</span>
<span class="n">field3</span> <span class="o">=</span> <span class="n">tensorField</span><span class="o">.</span><span class="n">pressure</span><span class="p">()</span> <span class="c"># pressure</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;$\sigma_{zz}$&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;Von Mises $\sigma_{eq}$&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">r&#39;Pressure $p$&#39;</span><span class="p">)</span>
<span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">convert2tri3</span><span class="p">()</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Triangular mesh edges</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span>

<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">levels</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">levels</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field2</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">levels</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field2</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="n">levels</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field3</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">-</span><span class="n">levels</span><span class="p">))</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field3</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">levels</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">-</span><span class="n">levels</span><span class="p">),</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Nodes-eval_tensorFunction.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_tensorFunction.png">png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_tensorFunction.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Nodes-eval_tensorFunction.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Nodes-eval_tensorFunction.png" src="_images/Nodes-eval_tensorFunction.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Nodes.boundingBox">
<tt class="descclassname">Nodes.</tt><tt class="descname">boundingBox</tt><big>(</big><em>margin=0.1</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Nodes.boundingBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Nodes.boundingBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dimensions of a cartesian box containing the mesh with a relative margin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>margin</strong> (<em>float</em>) &#8211; relative margin of the box. O. means no margin, 0.1 is default.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple containing 3 tuples with x, y and z limits of the box.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="id1">
<h2>Mesh<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="abapy.mesh.Mesh">
<em class="property">class </em><tt class="descclassname">abapy.mesh.</tt><tt class="descname">Mesh</tt><big>(</big><em>nodes=None</em>, <em>connectivity=</em><span class="optional">[</span><span class="optional">]</span>, <em>space=</em><span class="optional">[</span><span class="optional">]</span>, <em>labels=</em><span class="optional">[</span><span class="optional">]</span>, <em>name=None</em>, <em>sets={}</em>, <em>surfaces={}</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages meshes for finite element modeling pre/postprocessing and further graphical representations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nodes</strong> (<em>Nodes class instance or None</em>) &#8211; nodes container. If None, a void Nodes instance will be used. The values of dti and dtf used by nodes are extended to mesh.</li>
<li><strong>labels</strong> &#8211; elements labels</li>
<li><strong>connectivity</strong> (<em>list of lists each containing ints &gt; 0</em>) &#8211; elements connectivities using node labels</li>
<li><strong>space</strong> (<em>list of ints in [1,2,3]</em>) &#8211; elements embedded spaces. This formulation is simple and allows to distinguish 1D elements (space = 1), surface elements (space = 2) and volumic elements (space = 3)</li>
<li><strong>name</strong> (<em>list of strings</em>) &#8211; elements names used, for example in a FEM code: &#8216;CAX4, C3D8, ...&#8217;</li>
<li><strong>sets</strong> (<em>dict with string keys and list of ints &gt; 0 values</em>) &#8211; element sets</li>
<li><strong>surface</strong> &#8211; dict with str keys containing tuples with 2 elements, the first being the name of an element set and the second the number of the face.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">,</span> <span class="n">toset</span><span class="o">=</span><span class="s">&#39;mySet&#39;</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">1     [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
<span class="go">myset 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="c"># requesting elements with labels 1 and 2</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">1     [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">2     [2L, 5L, 6L, 3L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
<span class="go">myset 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="c"># requesting elements with labels in range(1,2,1)</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">1     [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
<span class="go">myset 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="s">&#39;mySet&#39;</span><span class="p">]</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">1     [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
<span class="go">myset 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="s">&#39;myset&#39;</span><span class="p">]</span> <span class="c"># requesting elements that belong to set &#39;myset&#39;</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">1     [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
<span class="go">myset 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span><span class="p">[</span><span class="s">&#39;ImNoSet&#39;</span><span class="p">]</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label Connectivity            Space   Name</span>
<span class="go">Sets:</span>
<span class="go">Label Elements</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="id2">
<h3>Add/remove/get data<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Mesh.add_element">
<tt class="descclassname">Mesh.</tt><tt class="descname">add_element</tt><big>(</big><em>connectivity</em>, <em>space</em>, <em>label=None</em>, <em>name=None</em>, <em>toset=None</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.add_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.add_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an element.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connectivity</strong> (<em>list of int &gt; 0</em>) &#8211; element connectivity using node labels.</li>
<li><strong>space</strong> (<em>int in [1,2,3]</em>) &#8211; element embedded space, can be 1 for lineic element, 2 for surfacic element and 3 for volumic element.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; element name used in fem code.</li>
<li><strong>toset</strong> (<em>string or list of strings</em>) &#8211; set(s) to which element is to be added. If a set does not exist, it is created.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some nodes</span>
<span class="gp">... </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some elements</span>
<span class="gp">... </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">,</span> <span class="n">toset</span><span class="o">=</span><span class="s">&#39;mySet&#39;</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">,</span> <span class="n">toset</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;mySet&#39;</span><span class="p">,</span><span class="s">&#39;myOtherSet&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label       Connectivity            Space   Name</span>
<span class="go">1   [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">2   [2L, 5L, 6L, 3L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label       Elements</span>
<span class="go">myotherset  2</span>
<span class="go">myset       1,2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.drop_element">
<tt class="descclassname">Mesh.</tt><tt class="descname">drop_element</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.drop_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.drop_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one element to Mesh instance. The element is also removed from sets and surfaces, if a set or surface happens to be empty, it is also removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (<em>int &gt; 0</em>) &#8211; element to be removed&#8217;s label.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.indentation</span> <span class="kn">import</span> <span class="n">ParamInfiniteMesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>
<span class="gp">&gt;&gt;&gt; </span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Let&#39;s create a mesh containing a surface:</span>
<span class="gp">... </span><span class="n">m</span> <span class="o">=</span> <span class="n">ParamInfiniteMesh</span><span class="p">(</span><span class="n">Na</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">Nb</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">m</span><span class="o">.</span><span class="n">surfaces</span>
<span class="go">{&#39;samp_surf&#39;: [(&#39;top_elem&#39;, 3)]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elem_to_remove</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">sets</span><span class="p">[</span><span class="s">&#39;top_elem&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Let&#39;s remove all elements in the surface:</span>
<span class="gp">... </span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elem_to_remove</span><span class="p">:</span>
<span class="gp">... </span>  <span class="n">m</span><span class="o">.</span><span class="n">drop_element</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">... </span><span class="c"># We can see that sets and surfaces are removed when they become empty</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">m</span><span class="o">.</span><span class="n">surfaces</span>
<span class="go">{}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.drop_node">
<tt class="descclassname">Mesh.</tt><tt class="descname">drop_node</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.drop_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.drop_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops a node from mesh.nodes instance. This method differs from to the nodes.drop_node element because it removes the node but also all elements containing the node in the mesh instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>label</strong> (<em>int &gt; 0</em>) &#8211; node to be removed&#8217;s label.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="c"># Creating a mesh</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="c"># Finding the node located at x = y =0.:</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">nodes</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">labels</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">nodes</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0.</span> <span class="ow">and</span> <span class="n">nodes</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mf">0.</span><span class="p">:</span> <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="c"># Removing this node</span>
<span class="n">m</span><span class="o">.</span><span class="n">drop_node</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
<span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">bbx</span><span class="p">,</span> <span class="n">bby</span><span class="p">,</span> <span class="n">bbz</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">boundingBox</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="n">bbx</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="n">bby</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span><span class="n">y0</span><span class="p">,</span> <span class="s">&#39;r-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Removed element&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span> <span class="s">&#39;b-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;New mesh&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh-drop_node.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh-drop_node.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh-drop_node.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh-drop_node.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh-drop_node.png" src="_images/Mesh-drop_node.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.add_set">
<tt class="descclassname">Mesh.</tt><tt class="descname">add_set</tt><big>(</big><em>label</em>, <em>elements</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.add_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.add_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new set or appends elements to an existing set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label</strong> (<em>string</em>) &#8211; set label to be added.</li>
<li><strong>elements</strong> (<em>int &gt; 0 or list of int &gt; 0</em>) &#8211; element(s) that belong to the step.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding sets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;niceSet&#39;</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;veryNiceSet&#39;</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;simplyTheBestSet&#39;</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;simplyTheBestSet&#39;</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span>
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label       Connectivity            Space   Name</span>
<span class="go">1   [1L, 2L, 3L, 4L]        2D      QUAD4</span>
<span class="go">2   [2L, 5L, 6L, 3L]        2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label       Elements</span>
<span class="go">niceset     1</span>
<span class="go">veryniceset 1,2</span>
<span class="go">simplythebestset    1,2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.drop_set">
<tt class="descclassname">Mesh.</tt><tt class="descname">drop_set</tt><big>(</big><em>label</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.drop_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.drop_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Goal: drops a set without removing elements and nodes.
Inputs:
* label: set label to be dropped, must be string.</p>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.add_surface">
<tt class="descclassname">Mesh.</tt><tt class="descname">add_surface</tt><big>(</big><em>label</em>, <em>description</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.add_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.add_surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds or expands an element surface (<em>i. e.</em> a group a element faces). Surfaces are used to define contact interactions in simulations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label</strong> (<em>string</em>) &#8211; surface label.</li>
<li><strong>description</strong> (<em>list containing tuples each containing a string and an int</em>) &#8211; list of ( element set label , face number ) tuples.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="s">&#39;topsurface&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;top&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="s">&#39;topsurface&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;top&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">surfaces</span>
<span class="go">{&#39;topsurface&#39;: [(&#39;top&#39;, 1), (&#39;top&#39;, 2)]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.replace_node">
<tt class="descclassname">Mesh.</tt><tt class="descname">replace_node</tt><big>(</big><em>old</em>, <em>new</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.replace_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.replace_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces a node of given label (old) by another existing node (new). This version of <tt class="docutils literal"><span class="pre">replace_node</span></tt> differs from the version of the <tt class="docutils literal"><span class="pre">Nodes</span></tt> class because it also updates elements connectivity. When working with mesh (an not only nodes), this version should be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>old</strong> (<em>int &gt; 0</em>) &#8211; node label to be replaced.</li>
<li><strong>new</strong> (<em>int &gt; 0</em>) &#8211; node label of the node replacing old.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span> <span class="n">N2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">replace_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Info: element 1 maybe have become degenerate due du node replacing.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mesh</span> 
<span class="go">Mesh class instance:</span>
<span class="go">Elements:</span>
<span class="go">Label       Connectivity            Space   Name</span>
<span class="go">1   [2L, 4L, 3L]    2D      QUAD4</span>
<span class="go">Sets:</span>
<span class="go">Label       Elements</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.simplify_nodes">
<tt class="descclassname">Mesh.</tt><tt class="descname">simplify_nodes</tt><big>(</big><em>crit_distance=1e-10</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.simplify_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.simplify_nodes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id3">
<h3>Modifications<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Mesh.extrude">
<tt class="descclassname">Mesh.</tt><tt class="descname">extrude</tt><big>(</big><em>N=1</em>, <em>l=1.0</em>, <em>quad=False</em>, <em>mapping={}</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.extrude"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.extrude" title="Permalink to this definition">¶</a></dt>
<dd><p>Extrudes a mesh in z direction. The method is made to be applied to 2D mesh, it may work on shell elements but may lead to inside out elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>N</strong> (<em>int</em>) &#8211; number of ELEMENTS along z, must &gt; 0.</li>
<li><strong>l</strong> (<em>float</em>) &#8211; length of the extrusion along z, should be &gt; 0 to avoid inside out elements.</li>
<li><strong>quad</strong> (<em>boolean</em>) &#8211; specifies if quadratic elements should be used instead of linear elements (default). Doesn&#8217;t work yet. Linear and quadratic elements should not be mixed in the same mesh.</li>
<li><strong>mapping</strong> (<em>boolean</em>) &#8211; gives the way to translate element names during extrusion. Example: {&#8216;CAX4&#8217;:&#8217;C3D8&#8217;,&#8217;CAX3&#8217;:&#8217;C3D6&#8217;}. If 2D element name is not in the mapping, names will be chosen in the basic continuum elements used by Abaqus: &#8216;C3D6&#8217; and &#8216;C3D8&#8217;.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span><span class="p">,</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;el_set&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="s">&#39;my_surface&#39;</span><span class="p">,[(</span><span class="s">&#39;el_set&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">])</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">extrude</span><span class="p">(</span><span class="n">l</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">z2</span> <span class="o">=</span> <span class="n">m2</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>

<span class="c"># Adding some 3D &quot;home made&quot; perspective:</span>
<span class="n">zx</span><span class="p">,</span> <span class="n">zy</span> <span class="o">=</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x2</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">zx</span> <span class="o">*</span> <span class="n">z2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">zy</span> <span class="o">*</span> <span class="n">z2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="c"># Plotting stuff</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="s">&#39;b-&#39;</span><span class="p">,</span> <span class="n">linewidth</span>  <span class="o">=</span> <span class="mf">4.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Orginal Mesh&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span> <span class="s">&#39;r-&#39;</span><span class="p">,</span> <span class="n">linewidth</span>  <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Extruded mesh&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh-extrude.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh-extrude.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh-extrude.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh-extrude.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh-extrude.png" src="_images/Mesh-extrude.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.sweep">
<tt class="descclassname">Mesh.</tt><tt class="descname">sweep</tt><big>(</big><em>N=1</em>, <em>sweep_angle=45.0</em>, <em>quad=False</em>, <em>mapping={}</em>, <em>extrude=False</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.sweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Sweeps a mesh in around z axis. The method is made to be applied to 2D mesh, it may work on shell elements but may lead to inside out elements.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>N</strong> (<em>int</em>) &#8211; number of ELEMENTS along z, must &gt; 0.</li>
<li><strong>sweep_angle</strong> (<em>float</em>) &#8211; sweep angle around the z axis in degrees. Should be &gt; 0 to avoid inside out elements.</li>
<li><strong>quad</strong> (<em>boolean</em>) &#8211; specifies if quadratic elements should be used instead of linear elements (default). Doesn&#8217;t work yet. Linear and quadratic elements should not be mixed in the same mesh.</li>
<li><strong>mapping</strong> (<em>dictionary</em>) &#8211; gives the way to translate element names during extrusion. Example: {&#8216;CAX4&#8217;:&#8217;C3D8&#8217;,&#8217;CAX3&#8217;:&#8217;C3D6&#8217;}. If 2D element name is not in the mapping, names will be chosen in the basic continuum elements used by Abaqus: &#8216;C3D6&#8217; and &#8216;C3D8&#8217;.</li>
<li><strong>extrude</strong> &#8211; if True, this param will modify the transformation used to produce the sweep. The result will be a mixed form of sweep and extrusion useful to produce pyramids. When using this option, the sweep angle must be lower than 90 degrees.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span><span class="p">,</span> <span class="n">Mesh</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<span class="kn">from</span> <span class="nn">abapy.indentation</span> <span class="kn">import</span> <span class="n">IndentationMesh</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">connectivity</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">dti</span><span class="p">,[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">connectivity</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">dti</span><span class="p">,[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;el_set&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="s">&#39;el_set2&#39;</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="s">&#39;my_surface&#39;</span><span class="p">,[(</span><span class="s">&#39;el_set&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">),])</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">sweep</span><span class="p">(</span><span class="n">sweep_angle</span> <span class="o">=</span> <span class="mf">70.</span><span class="p">,</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">extrude</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">z2</span> <span class="o">=</span> <span class="n">m2</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>

<span class="c"># Adding some 3D &quot;home made&quot; perspective:</span>
<span class="n">zx</span><span class="p">,</span> <span class="n">zy</span> <span class="o">=</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x2</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">zx</span> <span class="o">*</span> <span class="n">z2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">y2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">zy</span> <span class="o">*</span> <span class="n">z2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="c"># Plotting stuff</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="s">&#39;b-&#39;</span><span class="p">,</span> <span class="n">linewidth</span>  <span class="o">=</span> <span class="mf">4.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Orginal Mesh&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span> <span class="s">&#39;r-&#39;</span><span class="p">,</span> <span class="n">linewidth</span>  <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s">&#39;Sweeped mesh&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh-sweep.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh-sweep.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh-sweep.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh-sweep.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh-sweep.png" src="_images/Mesh-sweep.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.union">
<tt class="descclassname">Mesh.</tt><tt class="descname">union</tt><big>(</big><em>other_mesh</em>, <em>crit_distance=None</em>, <em>simplify=True</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the union of 2 Mesh instances. The second operand&#8217;s labels are increased to be compatible with the first. All sets are kepts and merged if they share the same name. Nodes which are too close (&lt; crit_distance) are merged. If crit_distance is None, the defautl value value of <tt class="docutils literal"><span class="pre">simplify_mesh</span></tt> is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>other_mesh</strong> (<tt class="docutils literal"><span class="pre">Mesh</span></tt> instance) &#8211; mesh to be added to current mesh.</li>
<li><strong>crit_distance</strong> (<em>float &gt; 0</em>) &#8211; critical distance under which nodes are considered identical.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">Mesh.</tt><tt class="descname">apply_reflection</tt><big>(</big><em>point=(0.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>normal=(1.0</em>, <em>0.0</em>, <em>0.0)</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.apply_reflection"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Applies a reflection symmetry to the mesh instance. The reflection plane is defined by a point and a normal direction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>point</strong> (<em>tuple or list containing 3 floats</em>) &#8211; coordinates of a point of the reflection plane.</li>
<li><strong>normal</strong> (<em>tuple or list containing 3 floats</em>) &#8211; normal vector to the reflection plane</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">Mesh</span></tt> instance</p>
</td>
</tr>
</tbody>
</table>
<p>..note: This method can lead to coherence problems with surfaces, this problem will be addressed in the future. Surfaces are removed by this operation untill this problem is solved.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="kn">from</span> <span class="nn">abapy.indentation</span> <span class="kn">import</span> <span class="n">ParamInfiniteMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">point</span>  <span class="o">=</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
<span class="n">normal</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>
<span class="n">m0</span> <span class="o">=</span> <span class="n">ParamInfiniteMesh</span><span class="p">()</span>
<span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">z0</span> <span class="o">=</span> <span class="n">m0</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">m1</span> <span class="o">=</span> <span class="n">m0</span><span class="o">.</span><span class="n">apply_reflection</span><span class="p">(</span><span class="n">normal</span> <span class="o">=</span> <span class="n">normal</span><span class="p">,</span> <span class="n">point</span> <span class="o">=</span> <span class="n">point</span><span class="p">)</span>
<span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh_apply_reflection.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh_apply_reflection.png" src="_images/Mesh_apply_reflection.png" />
</div>
</dd></dl>

</div>
<div class="section" id="id4">
<h3>Export<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Mesh.dump2inp">
<tt class="descclassname">Mesh.</tt><tt class="descname">dump2inp</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.dump2inp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.dump2inp" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps the whole mesh (<em>i. e.</em> elements + nodes) to Abaqus INP format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some nodes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nodes</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.</span> <span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mf">1.</span> <span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding some elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">connectivity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">space</span> <span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;QUAD4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding sets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_set</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;veryNiceSet&#39;</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Adding surfaces</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span><span class="o">.</span><span class="n">add_surface</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;superNiceSurface&#39;</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="s">&#39;veryNiceSet&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2inp</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.dump2vtk">
<tt class="descclassname">Mesh.</tt><tt class="descname">dump2vtk</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.dump2vtk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.dump2vtk" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps the mesh to the VTK format. VTK format can be visualized using Mayavi2 or Paraview. This method is particularly useful for 3D mesh. For 2D mesh, it may be more efficient to work with matplotlib using methods like: get_edges, get_border and dump2triplot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="ploting-tools">
<h3>Ploting tools<a class="headerlink" href="#ploting-tools" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="abapy.mesh.Mesh.convert2tri3">
<tt class="descclassname">Mesh.</tt><tt class="descname">convert2tri3</tt><big>(</big><em>mapping=None</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.convert2tri3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.convert2tri3" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts 2D elements to 3 noded triangles only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mapping</strong> (<em>dict with string keys and values</em>) &#8211; gives the mapping of element name changes to be applied when elements are splitted. Example: mapping = {&#8216;CAX4&#8217;:&#8217;CAX3&#8217;}</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Mesh instance containing only triangular elements.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function was mainly developped to allow easy ploting in matplotlib using <tt class="docutils literal"><span class="pre">matplotlib.plyplot.triplot</span></tt>, <tt class="docutils literal"><span class="pre">matplotlib.plyplot.tricontour</span></tt> and <tt class="docutils literal"><span class="pre">matplotlib.plyplot.contourf</span></tt> which rely on full triangle meshes. On a practical point of view, it easily used wrapped inside the <tt class="docutils literal"><span class="pre">abapy.Mesh.dump2triplot</span></tt> methods which rewrites connectivity in an easier to plot way.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">Mesh</span><span class="p">,</span> <span class="n">Nodes</span><span class="p">,</span> <span class="n">RegularQuadMesh</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">cos</span><span class="p">,</span> <span class="n">pi</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">labels</span><span class="p">):</span>
 <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**.</span><span class="mi">5</span>
 <span class="k">return</span> <span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="mf">1.</span><span class="p">)</span>
<span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span>
<span class="n">Ncolor</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="n">N1</span><span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="n">N2</span><span class="p">,</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="p">)</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">eval_function</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Orginal Mesh&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Triangularized Mesh&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Field&#39;</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Mesh edges</span>
<span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="n">zt</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">convert2tri3</span><span class="p">()</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Triangular mesh edges</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xt</span><span class="p">,</span><span class="n">yt</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;k-&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">tricontour</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">tri</span><span class="p">,</span><span class="n">field</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">Ncolor</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/Mesh-convert2tri3.py">Source code</a>, <a class="reference external" href="./example_code/mesh/Mesh-convert2tri3.png">png</a>, <a class="reference external" href="./example_code/mesh/Mesh-convert2tri3.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/Mesh-convert2tri3.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/Mesh-convert2tri3.png" src="_images/Mesh-convert2tri3.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.dump2triplot">
<tt class="descclassname">Mesh.</tt><tt class="descname">dump2triplot</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.dump2triplot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.dump2triplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows any 2D mesh to be triangulized and formated in a suitable way to be used by triplot, tricontour and tricontourf in matplotlib.pyplot. This is the best way to produce clean 2D plots of 2D meshs. Returns 4 arrays/lists: x, y and z coordinates of nodes and triangles connectivity. It can be directly used in matplotlib.pyplot using:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">4 lists</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span> <span class="o">=</span> <span class="mi">10</span> <span class="p">,</span> <span class="n">N2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">tri</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dump2triplot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">triplot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">tri</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.get_edges">
<tt class="descclassname">Mesh.</tt><tt class="descname">get_edges</tt><big>(</big><em>xmin=None</em>, <em>xmax=None</em>, <em>ymin=None</em>, <em>ymax=None</em>, <em>zmin=None</em>, <em>zmax=None</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.get_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.get_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of edges composing the meshed domain. Edges are given as x and y lists with None separator for faster ploting in <tt class="docutils literal"><span class="pre">matplotlib.pyplot</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">3 lists of coordinates directly plotable in matplotlib</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="abapy.mesh.Mesh.get_border">
<tt class="descclassname">Mesh.</tt><tt class="descname">get_border</tt><big>(</big><em>xmin=None</em>, <em>xmax=None</em>, <em>ymin=None</em>, <em>ymax=None</em>, <em>zmin=None</em>, <em>zmax=None</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#Mesh.get_border"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.Mesh.get_border" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="mesh-generation">
<h2>Mesh generation<a class="headerlink" href="#mesh-generation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="regularquadmesh-functions">
<h3><tt class="docutils literal"><span class="pre">RegularQuadMesh</span></tt> functions<a class="headerlink" href="#regularquadmesh-functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="abapy.mesh.RegularQuadMesh">
<tt class="descclassname">abapy.mesh.</tt><tt class="descname">RegularQuadMesh</tt><big>(</big><em>N1=1</em>, <em>N2=1</em>, <em>l1=1.0</em>, <em>l2=1.0</em>, <em>name='QUAD4'</em>, <em>dtf='f'</em>, <em>dti='I'</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#RegularQuadMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.RegularQuadMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2D regular quadrangle mesh.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>N1</strong> (<em>int &gt; 0</em>) &#8211; number of elements respectively along y.</li>
<li><strong>N2</strong> (<em>int &gt; 0</em>) &#8211; number of elements respectively along y.</li>
<li><strong>l1</strong> (<em>float</em>) &#8211; length of the mesh respectively along x.</li>
<li><strong>l2</strong> (<em>float</em>) &#8211; length of the mesh respectively along y.</li>
<li><strong>name</strong> (<em>string</em>) &#8211; elements names, for example &#8216;CPS4&#8217;.</li>
<li><strong>dti</strong> (<em>&#8216;I&#8217;, &#8216;H&#8217;</em>) &#8211; int data type in array.array</li>
<li><strong>dtf</strong> (<em>&#8216;f&#8217;, &#8216;d&#8217;</em>) &#8211; float data type in array.array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Mesh instance</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">abapy.mesh</span> <span class="kn">import</span> <span class="n">RegularQuadMesh</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">N1</span><span class="p">,</span><span class="n">N2</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span><span class="mi">5</span> <span class="c"># Number of elements</span>
<span class="n">l1</span><span class="p">,</span> <span class="n">l2</span> <span class="o">=</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span> <span class="c"># Mesh size</span>
<span class="n">fs</span> <span class="o">=</span> <span class="mf">20.</span> <span class="c"># fontsize</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">RegularQuadMesh</span><span class="p">(</span><span class="n">N1</span><span class="p">,</span><span class="n">N2</span><span class="p">,</span><span class="n">l1</span><span class="p">,</span><span class="n">l2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">nodes</span>
<span class="n">xn</span><span class="p">,</span> <span class="n">yn</span><span class="p">,</span> <span class="n">zn</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">z</span> <span class="c"># Nodes coordinates</span>
<span class="n">xe</span><span class="p">,</span><span class="n">ye</span><span class="p">,</span><span class="n">ze</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_edges</span><span class="p">()</span> <span class="c"># Mesh edges</span>
<span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="n">zb</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">get_border</span><span class="p">()</span> <span class="c"># Mesh border</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xe</span><span class="p">,</span><span class="n">ye</span><span class="p">,</span><span class="s">&#39;r-&#39;</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;edges&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xb</span><span class="p">,</span><span class="n">yb</span><span class="p">,</span><span class="s">&#39;b-&#39;</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;border&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xn</span><span class="p">,</span><span class="n">yn</span><span class="p">,</span><span class="s">&#39;go&#39;</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="s">&#39;nodes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l1</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-.</span><span class="mi">1</span><span class="o">*</span><span class="n">l2</span><span class="p">,</span><span class="mf">1.1</span><span class="o">*</span><span class="n">l2</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">l1</span><span class="p">],[</span><span class="s">&#39;$0$&#39;</span><span class="p">,</span> <span class="s">&#39;$l_1$&#39;</span><span class="p">],</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">l2</span><span class="p">],[</span><span class="s">&#39;$0$&#39;</span><span class="p">,</span> <span class="s">&#39;$l_2$&#39;</span><span class="p">],</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;$N_1$&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;$N_2$&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./example_code/mesh/RegularQuadMesh.py">Source code</a>, <a class="reference external" href="./example_code/mesh/RegularQuadMesh.png">png</a>, <a class="reference external" href="./example_code/mesh/RegularQuadMesh.hires.png">hires.png</a>, <a class="reference external" href="./example_code/mesh/RegularQuadMesh.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/RegularQuadMesh.png" src="_images/RegularQuadMesh.png" />
</div>
</dd></dl>

<dl class="function">
<dt id="abapy.mesh.RegularQuadMesh_like">
<tt class="descclassname">abapy.mesh.</tt><tt class="descname">RegularQuadMesh_like</tt><big>(</big><em>x_list=[0.0, 1.0], y_list=[0.0, 1.0], name='QUAD4', dtf='f', dti='I'</em><big>)</big><a class="reference internal" href="_modules/abapy/mesh.html#RegularQuadMesh_like"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abapy.mesh.RegularQuadMesh_like" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 2D regular quadrangle mesh from 2 lists of positions. This version of RegularQuadMesh is an alternative to the normal one in some cases where fine tuning of x, y positions is required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_list</strong> (<em>list, array.array or numpy.array</em>) &#8211; list of x values</li>
<li><strong>y_list</strong> (<em>list, array.array or numpy.array</em>) &#8211; list of y values</li>
<li><strong>name</strong> (<em>string</em>) &#8211; elements names, for example &#8216;CPS4&#8217;.</li>
<li><strong>dti</strong> (<em>&#8216;I&#8217;, &#8216;H&#8217;</em>) &#8211; int data type in array.array</li>
<li><strong>dtf</strong> (<em>&#8216;f&#8217;, &#8216;d&#8217;</em>) &#8211; float data type in array.array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Mesh instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>..note:: see also in <tt class="docutils literal"><span class="pre">abapy.indentation</span></tt> for indentation dedicated meshes.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mesh</a><ul>
<li><a class="reference internal" href="#nodes">Nodes</a><ul>
<li><a class="reference internal" href="#add-remove-get-data">Add/remove/get data</a></li>
<li><a class="reference internal" href="#modifications">Modifications</a></li>
<li><a class="reference internal" href="#export">Export</a></li>
<li><a class="reference internal" href="#tools">Tools</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Mesh</a><ul>
<li><a class="reference internal" href="#id2">Add/remove/get data</a></li>
<li><a class="reference internal" href="#id3">Modifications</a></li>
<li><a class="reference internal" href="#id4">Export</a></li>
<li><a class="reference internal" href="#ploting-tools">Ploting tools</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mesh-generation">Mesh generation</a><ul>
<li><a class="reference internal" href="#regularquadmesh-functions"><tt class="docutils literal"><span class="pre">RegularQuadMesh</span></tt> functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="materials.html"
                        title="next chapter">Materials</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/mesh.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="materials.html" title="Materials"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li><a href="index.html">abapy 2.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Ludovic Charleux.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>